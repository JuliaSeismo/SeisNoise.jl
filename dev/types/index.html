<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Workflow · SeisNoise.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="SeisNoise.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">SeisNoise.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Workflow</a><ul class="internal"><li><a class="tocitem" href="#Timing"><span>Timing</span></a></li><li><a class="tocitem" href="#RawData-Objects-for-windowed-raw-data"><span><code>RawData</code> - Objects for windowed raw data</span></a></li><li><a class="tocitem" href="#FFTData-Objects-for-Fourier-transforms-(FFTs)"><span><code>FFTData</code> - Objects for Fourier transforms (FFTs)</span></a></li><li><a class="tocitem" href="#CorrData-Objects-for-ambient-noise-cross-correlations"><span><code>CorrData</code> - Objects for ambient noise cross-correlations</span></a></li><li><a class="tocitem" href="#SeisNoise-Functions"><span>SeisNoise Functions</span></a></li></ul></li><li><a class="tocitem" href="../using_gpus/">Using the GPU</a></li><li><a class="tocitem" href="../preprocessing/">Pre-Processing</a></li><li><a class="tocitem" href="../fft/">Computing FFTs</a></li><li><a class="tocitem" href="../correlation/">Correlation</a></li><li><a class="tocitem" href="../extend/">Extending SeisNoise</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../contributing/">Contributer&#39;s Guide</a></li><li><a class="tocitem" href="../func_index/">Function Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Workflow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Workflow</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tclements/SeisNoise.jl/blob/master/docs/src/types.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="SeisNoise-Workflow"><a class="docs-heading-anchor" href="#SeisNoise-Workflow">SeisNoise Workflow</a><a id="SeisNoise-Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#SeisNoise-Workflow" title="Permalink"></a></h1><p><code>SeisNoise</code> is designed around array-based cross-correlation. <code>SeisNoise</code> uses three custom data structures: <code>RawData</code> for storing windows ambient noise, <code>FFTData</code> for storing Fourier transforms of ambient noise, and <code>CorrData</code> for storing cross-correlations. SeisNoise types extend <code>SeisIO</code>&#39;s <code>SeisChannel</code> type for 2D-array ambient noise processing.</p><p><img src="../assets/SeisNoise-DataFlow.png" alt="dataflow"/></p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>By convention in Julia, array data is stored <em>column-wise</em>. Noise windows in   <code>RawData</code> objects, ffts in <code>FFTData</code> objects, and cross-corrleations in   <code>CorrData</code> objects are all stored column-wise. To access data one or more   time windows, use column-based indexing, e.g. <code>R[:,1]</code>, <code>F[:,2]</code>, or <code>C[:,3:5]</code>.</p></div></div><h2 id="Timing"><a class="docs-heading-anchor" href="#Timing">Timing</a><a id="Timing-1"></a><a class="docs-heading-anchor-permalink" href="#Timing" title="Permalink"></a></h2><p>SeisNoise stores the start time of each window stored in <code>RawData</code>, <code>FFTData</code> and <code>CorrData</code> objects in the <code>.t</code> field as a 1D array. Timestamps are stored according to <a href="https://en.wikipedia.org/wiki/Unix_time">Unix Time</a> in double-precision floating-point format (<code>Float64</code>). SeisNoise uses the <a href="https://docs.julialang.org/en/v1/stdlib/Dates/"><code>Dates</code> module</a> for all timing. For instance, January 1st, 2020 in Unix time is given by</p><pre><code class="language-julia hljs">using Dates
datetime2unix(DateTime(2020,1,1))
1.5778368e9</code></pre><p>where <code>datetime2unix</code> is a function in the <code>Dates</code> module for converting between Unix Time and <code>DateTime</code> structures. <code>Dates</code> also provides a <code>unix2datetime</code> for converting from Unix Time to <code>DateTime</code> structures. Let&#39;s say we have an array of timestamps, <code>t</code>, with hourly samples between <code>01/01/2020</code> and <code>01/02/2020</code>:</p><pre><code class="language-julia hljs">t = 1.5778368e9 .+ collect(0:3600:3600*24)
25-element Array{Float64,1}:
 1.5778368e9
 1.5778404e9
 1.577844e9
 1.5778476e9
 1.5778512e9
 1.5778548e9
 ⋮
 1.5779088e9
 1.5779124e9
 1.577916e9
 1.5779196e9
 1.5779232e9</code></pre><p>to convert to timestamps, we would use the <code>unix2datetime</code> function along with the Julia broadcast operator, <code>.</code>, as shown below:</p><pre><code class="language-julia hljs">timestamps = unix2datetime.(t)
25-element Array{DateTime,1}:
 2020-01-01T00:00:00
 2020-01-01T01:00:00
 2020-01-01T02:00:00
 2020-01-01T03:00:00
 2020-01-01T04:00:00
 2020-01-01T05:00:00
 ⋮
 2020-01-01T20:00:00
 2020-01-01T21:00:00
 2020-01-01T22:00:00
 2020-01-01T23:00:00
 2020-01-02T00:00:00</code></pre><h2 id="RawData-Objects-for-windowed-raw-data"><a class="docs-heading-anchor" href="#RawData-Objects-for-windowed-raw-data"><code>RawData</code> - Objects for windowed raw data</a><a id="RawData-Objects-for-windowed-raw-data-1"></a><a class="docs-heading-anchor-permalink" href="#RawData-Objects-for-windowed-raw-data" title="Permalink"></a></h2><p><code>RawData</code> objects store windows of ambient noise. <code>RawData</code> have very similar structure to <code>SeisChannel</code> objects, except with added fields for:</p><ul><li><code>cc_len</code>: the cross-correlation window length (in seconds).</li><li><code>cc_step</code>: the step length between successive correlation windows (in seconds).</li><li><code>freqmin</code>: minimum frequency <code>RawData</code> has been filtered (in Hz).</li><li><code>freqmax</code>: maximum frequency <code>RawData</code> has been filtered (in Hz).</li><li><code>time_norm</code>: Type of amplitude normalization applied (<code>onebit</code>, <code>clipping</code>, etc..).</li><li><code>t</code>: Starttime of each noise window (number of seconds since the unix epoch 1970-01-01T00:00:00 as a Float64).</li><li><code>x</code>: Raw data stored in columns (2d-array).</li></ul><p>To create an empty <code>RawData</code> object, use the <code>RawData()</code> function. Here is an empty <code>RawData</code> object in the REPL:</p><pre><code class="language-julia hljs">julia&gt; using SeisNoise
julia&gt; RawData()
RawData with 0 windows
      NAME: …
        ID: …
       LOC: 0.0 N, 0.0 E, 0.0 m
        FS: 0.0
      GAIN: 1.0
   FREQMIN: 0.0
   FREQMAX: 0.0
    CC_LEN: …
   CC_STEP: …
 TIME_NORM: …
      RESP: a0 1.0, f0 1.0, 0z, 0p
      MISC: …
     NOTES: …
         T: …
         X: …</code></pre><p>A more natural way to create a <code>RawData</code>object is to convert an existing <code>SeisChannel</code> or <code>SeisData</code> object into a <code>RawData</code> object. This allows one to do preprocessing that is more natural for single component data (e.g. instrument response removal) before doing array-based processing. Here is an example of converting a <code>SeisData</code> object to a <code>RawData</code> object.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>cc_len</code> and <code>cc_step</code> <em>must</em> be included to create a <code>RawData</code> object.</p></div></div><pre><code class="language-julia hljs">julia&gt; using SeisIO, SeisNoise

julia&gt; S = get_data(&quot;FDSN&quot;, &quot;TA.M22K..BHZ&quot;, src=&quot;IRIS&quot;,s=&quot;2019-01-01&quot;,t=600)
SeisData with 1 channels (1 shown)
    ID: TA.M22K..BHZ                       
  NAME: Willow, AK, USA                    
   LOC: 61.7531 N, -150.12 E, 57.0 m       
    FS: 40.0                               
  GAIN: 5.03883e8                          
  RESP: a0 8.32666e17, f0 0.2, 6z, 11p     
 UNITS: m/s                                
   SRC: http://service.iris.edu/fdsnws/da…
  MISC: 4 entries                          
 NOTES: 0 entries                          
     T: 2019-01-01T00:00:00.000 (0 gaps)   
     X: +8.540e+02                         
        +6.230e+02                         
            ...                            
        +1.081e+03                         
        (nx = 24001)                       
     C: 0 open, 0 total

julia&gt; cc_len, cc_step = 100.,50. # specify window length and step (in seconds)
(100, 50)

julia&gt; R = RawData(S,cc_len,cc_step)
RawData with 11 windows
      NAME: &quot;Willow, AK, USA&quot;                  
        ID: &quot;TA.M22K..BHZ&quot;                     
       LOC: 61.7531 N, -150.12 E, 57.0 m
        FS: 40.0
      GAIN: 5.03883e8
   FREQMIN: 0.01
   FREQMAX: 20.0
    CC_LEN: 100.                                
   CC_STEP: 50.                                 
 TIME_NORM: false                              
      RESP: a0 8.32666e17, f0 0.2, 6z, 11p
      MISC: 4 entries                          
     NOTES: 2 entries                          
         T: 2019-01-01T00:00:00.000            …
         X: 4000×11 Array{Float32,2}     
</code></pre><p>This created a <code>RawData</code> object, <code>R</code>, 11 windows, each 100 seconds long and sampled at <code>40</code> Hz (4000 points). The <code>freqmin</code> is automatically set to <code>0.01</code> Hz because this is the <code>1 / cc_len</code>, whereas <code>freqmax</code> is set to the Nyquist frequency <code>R.fs/2</code>. To access the noise data stored in <code>R</code> just do <code>R.x</code></p><pre><code class="language-julia hljs">julia&gt; R.x
4000×11 Array{Float32,2}:
  854.0  1645.0   790.0  976.0   959.0  …   921.0  1148.0   718.0
  623.0   292.0   762.0  790.0  1065.0      828.0  1242.0   596.0
  530.0  1398.0   408.0  649.0  1033.0      -32.0  1263.0   678.0
  684.0   970.0   546.0  793.0   984.0     1399.0  1324.0   676.0
  810.0   273.0  1066.0  943.0   992.0      561.0  1340.0   655.0
  834.0   554.0  1385.0  866.0   955.0  …    62.0  1291.0   729.0
    ⋮                                   ⋱                     ⋮  
  647.0   810.0   801.0  380.0  1683.0  …   830.0   815.0  1223.0
  639.0   700.0   880.0  285.0  1284.0      709.0   798.0  1149.0
  860.0   789.0   955.0  133.0  1427.0      844.0   913.0   998.0
 1052.0   875.0   927.0  115.0  1623.0      857.0   944.0   970.0
  872.0   925.0   883.0    2.0  1141.0      810.0   883.0  1061.0</code></pre><p>See the Pre-Processing and Filtering pages for functions that work on <code>RawData</code> objects.  </p><h2 id="FFTData-Objects-for-Fourier-transforms-(FFTs)"><a class="docs-heading-anchor" href="#FFTData-Objects-for-Fourier-transforms-(FFTs)"><code>FFTData</code> - Objects for Fourier transforms (FFTs)</a><a id="FFTData-Objects-for-Fourier-transforms-(FFTs)-1"></a><a class="docs-heading-anchor-permalink" href="#FFTData-Objects-for-Fourier-transforms-(FFTs)" title="Permalink"></a></h2><p>Cross-correlation in <code>SeisNoise</code> is done in the frequency domain:</p><p class="math-container">\[C_{AB}(ω) = u^*_A(ω) u_B(ω)\]</p><p>where <span>$C_{AB}(ω)$</span> is the element-wise multiplication between <span>$u^*_A(ω)$</span>, the complex conjugate of the Fourier transform of ambient noise time series <span>$A$</span>, and <span>$u_B(ω)$</span>, the Fourier transform of ambient noise time series <span>$B$</span>. This exploits the <strong>O(nlogn)</strong> complexity of the Fast-Fourier Transforms. Since ambient noise data is real valued, <code>SeisNoise</code> uses real Fast-Fourier Transforms (<code>rfft</code>), which offer a 2-3x speed over a general <code>fft</code>.</p><p>The <code>FFTData</code> structure in <code>SeisNoise</code> stores Fourier transforms (<span>$u(ω)$</span>) of ambient noise. <code>FFTData</code> allow users to apply smoothing operations, such as whitening, coherence, or deconvolution, in-place before cross-corrleating. To create an empty <code>FFTData</code> object, use the <code>FFTData()</code> function.</p><pre><code class="language-julia hljs">julia&gt; using SeisNoise
julia&gt; FFTData()
FFTData with 0 ffts
      NAME: …
        ID: …
       LOC: 0.0 N, 0.0 E, 0.0 m
        FS: 0.0
      GAIN: 1.0
   FREQMIN: 0.0
   FREQMAX: 0.0
    CC_LEN: …
   CC_STEP: …
  WHITENED: …
 TIME_NORM: …
      RESP: c = 0.0, 0 zeros, 0 poles
      MISC: …
     NOTES: …
         T: …
       FFT: …
</code></pre><p>The only difference between an <code>FFTData</code> and a <code>RawData</code> is the swapping of the <code>x</code> data field to the <code>fft</code> data field.</p><p><code>FFTData</code> more naturally flow from <code>RawData</code> input to the  <code>rfft</code> function.</p><pre><code class="language-julia hljs"> julia&gt; F = rfft(R)
FFTData with 11 ffts
      NAME: &quot;TA.M22K..BHZ&quot;                     
        ID: &quot;2019-01-01&quot;                       
       LOC: 61.7531 N, -150.12 E, 57.0 m
        FS: 40.0
      GAIN: 5.03883e8
   FREQMIN: 0.01
   FREQMAX: 20.0
    CC_LEN: 100.                                
   CC_STEP: 50.                                 
  WHITENED: false                              
 TIME_NORM: false                              
      RESP: a0 8.32666e17, f0 0.2, 6z, 11p
      MISC: 4 entries                          
     NOTES: 2 entries                          
         T: 2019-01-01T00:00:00.000            …
       FFT: 2001×11 Array{Complex{Float32},2}  </code></pre><p>To access the Fourier transform stored in <code>F</code> just do <code>F.fft</code></p><pre><code class="language-julia hljs">julia&gt; F.fft
2001×11 Array{Complex{Float32},2}:
 3.18286e6+0.0im      3.18685e6+0.0im       …  3.19561e6+0.0im    
  -3205.34-7445.99im    12079.2+1573.37im        11842.9-4106.75im
  -10263.9+5427.09im    -1056.6+3629.68im        5421.51+2751.05im
  -6255.81-25112.9im    21741.7+9154.63im        37171.6+10855.5im
  -6164.36-7888.87im    27625.1-2106.65im        10308.3-24606.1im
   2470.13+8848.62im    13407.9+5940.08im   …   -10548.2+1305.7im
          ⋮                                 ⋱           ⋮         
   133.262-18.7686im    1204.43+18.5029im       -135.982+7.42407im
   122.472-7.24219im    1179.84+1.39209im       -133.742-5.74707im
   131.036+7.63867im    1199.29+0.913574im      -117.602+4.26135im
   123.142+4.82568im    1202.13+1.8291im        -112.404+11.0547im
     126.0+0.0im         1179.0+0.0im       …     -148.0+0.0im    </code></pre><h2 id="CorrData-Objects-for-ambient-noise-cross-correlations"><a class="docs-heading-anchor" href="#CorrData-Objects-for-ambient-noise-cross-correlations"><code>CorrData</code> - Objects for ambient noise cross-correlations</a><a id="CorrData-Objects-for-ambient-noise-cross-correlations-1"></a><a class="docs-heading-anchor-permalink" href="#CorrData-Objects-for-ambient-noise-cross-correlations" title="Permalink"></a></h2><p>As stated in the previous section, cross-correlation in the frequency domain is an element-wise product of Fourier-transforms of ambient noise:</p><p class="math-container">\[C_{AB}(ω) = u^*_A(ω) u_B(ω)\]</p><p>To transform a frequency domain cross-correlation into the time domain, we take the inverse real Fourier transform of <span>$C_{AB}(ω)$</span>:</p><p class="math-container">\[C(τ)_{AB} = \mathfrak{F}^{-1} \left(C_{AB}(ω)\right)\]</p><p>where <span>$τ$</span> is the lag time. Computing a cross-correlation thus necessitates two Fourier transforms, one element-wise multiplication (of complex numbers), and an inverse Fourier transform.</p><p>The <code>CorrData</code> structure in <code>SeisNoise</code> stores time-domain cross-correlations. To create an empty <code>CorrData</code> object, use the <code>CorrData()</code> function.</p><pre><code class="language-julia hljs">julia&gt; CorrData()
CorrData with 0 Corrs
      NAME: …
        ID: …
       LOC: 0.0 N, 0.0 E, 0.0 m
      COMP: …
   ROTATED: …
 CORR_TYPE: …
        FS: 0.0
      GAIN: 1.0
   FREQMIN: 0.0
   FREQMAX: 0.0
    CC_LEN: …
   CC_STEP: …
  WHITENED: …
 TIME_NORM: …
      RESP: a0 1.0, f0 1.0, 0z, 0p
      MISC: …
     NOTES: …
      DIST: 0.0
       AZI: 0.0
       BAZ: 0.0
    MAXLAG: 0.0
         T: …
      CORR: …</code></pre><p><code>CorrData</code> have a few additional parameters:</p><ul><li><code>comp</code>: The component of the cross-correlations, e.g. EN, RT, ZZ, etc...</li><li><code>rotated</code>: True/false if correlation has been rotated.</li><li><code>corr_type</code>: The type of correlation, e.g. &quot;cross-correlation&quot;, &quot;coherence&quot;, or &quot;deconvolution&quot;.</li><li><code>dist</code>: Distance between station 1 and station 2 (in Km).</li><li><code>azi</code>: Azimuth from station 1 and station 2 (in degrees).</li><li><code>baz</code>: Back azimuth between station 1 and station 2 (in degrees).</li><li><code>maxlag</code>: Maximum lag time (in seconds) in cross-correlations.</li><li><code>corr</code>: Time-domain cross-correlations stored in columns.</li></ul><p><code>CorrData</code> more naturally flow from <code>FFTData</code> input to the <code>compute_cc</code> function. In this example, we are computing an &quot;autocorrleation&quot; by inputting the same an <code>FFTData</code> twice:</p><pre><code class="language-julia hljs">julia&gt; maxlag = 20.
20.0

julia&gt; C = correlate(F,F,maxlag,corr_type=&quot;cross-correlation&quot;)
CorrData with 11 Corrs
      NAME: &quot;TA.M22K..BHZ.TA.M22K..BHZ&quot;        
        ID: &quot;2019-01-01&quot;                       
       LOC: 61.7531 N, -150.12 E, 57.0 m
      COMP: &quot;ZZ&quot;                               
   ROTATED: false                              
 CORR_TYPE: &quot;cross-correlation&quot;                
        FS: 40.0
      GAIN: 5.03883e8
   FREQMIN: 0.01
   FREQMAX: 20.0
    CC_LEN: 100.                                
   CC_STEP: 50.                                 
  WHITENED: false                              
 TIME_NORM: false                              
      RESP: a0 8.32666e17, f0 0.2, 6z, 11p
      MISC: 4 entries                          
     NOTES: 2 entries                          
      DIST: 0.0
       AZI: 0.0
       BAZ: 0.0
    MAXLAG: 20.0
         T: 2019-01-01T00:00:00.000            …
      CORR: 1601×11 Array{Float32,2}   </code></pre><p>To access the autocorrelations stored in <code>C</code> just do <code>C.corr</code>:</p><pre><code class="language-julia hljs">julia&gt; C.corr
1601×11 Array{Float32,2}:
 2.56154e9  2.5478e9   2.51531e9  …  2.53951e9  2.55251e9  2.51616e9
 2.54715e9  2.52733e9  2.51668e9     2.54039e9  2.55533e9  2.51614e9
 2.53042e9  2.54303e9  2.52005e9     2.53713e9  2.55813e9  2.51694e9
 2.57688e9  2.57981e9  2.52313e9     2.53812e9  2.55982e9  2.52244e9
 2.617e9    2.57287e9  2.52175e9     2.53825e9  2.56081e9  2.52769e9
 2.51533e9  2.50786e9  2.5218e9   …  2.53502e9  2.56186e9  2.52965e9
 2.5034e9   2.52427e9  2.52484e9     2.53588e9  2.56324e9  2.53052e9
 2.5998e9   2.578e9    2.52705e9     2.53676e9  2.56418e9  2.53246e9
 ⋮                                ⋱                        ⋮        
 2.56922e9  2.56349e9  2.52909e9     2.53253e9  2.56514e9  2.53592e9
 2.5998e9   2.578e9    2.52705e9  …  2.53676e9  2.56418e9  2.53246e9
 2.5034e9   2.52427e9  2.52484e9     2.53588e9  2.56324e9  2.53052e9
 2.51533e9  2.50786e9  2.5218e9      2.53502e9  2.56187e9  2.52965e9
 2.617e9    2.57287e9  2.52175e9     2.53825e9  2.56081e9  2.52769e9
 2.57688e9  2.57981e9  2.52313e9     2.53812e9  2.55982e9  2.52244e9
 2.53042e9  2.54303e9  2.52005e9  …  2.53713e9  2.55813e9  2.51694e9</code></pre><h2 id="SeisNoise-Functions"><a class="docs-heading-anchor" href="#SeisNoise-Functions">SeisNoise Functions</a><a id="SeisNoise-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#SeisNoise-Functions" title="Permalink"></a></h2><p>SeisNoise&#39;s modular functions work on <code>RawData</code>, <code>FFTData</code>, and <code>CorrData</code> objects <em>in-place</em> through Julia&#39;s <a href="https://en.wikipedia.org/wiki/Multiple_dispatch">multiple-dispatch</a>. Functions in SeisNoise that end in ! (e.g. <code>onebit!(R)</code>) by convention modify their arguments, while functions that do not end in ! (e.g. <code>onebit(R)</code>) allocate new arrays or objects. Have a look at the <a href="../preprocessing/#Pre-Processing">Pre-Processing</a>, <a href="../fft/#Computing-FFTs">Computing FFTs</a> and <a href="../correlation/#Cross-Correlating">Cross-Correlating</a> sections to learn how to apply functions to <code>NoiseData</code> objects.</p><h3 id="Type-Documentation"><a class="docs-heading-anchor" href="#Type-Documentation">Type Documentation</a><a id="Type-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Type-Documentation" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="SeisNoise.RawData" href="#SeisNoise.RawData"><code>SeisNoise.RawData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>RawData</p><p>A structure for raw ambient noise data.</p><p><strong>Fields: RawData</strong></p><table><tr><th style="text-align: left"><strong>Field</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left">:name</td><td style="text-align: left">Freeform channel names</td></tr><tr><td style="text-align: left">:id</td><td style="text-align: left">Channel ids. use NET.STA.LOC.CHAN format when possible.</td></tr><tr><td style="text-align: left">:loc</td><td style="text-align: left">Location (position) object</td></tr><tr><td style="text-align: left">:fs</td><td style="text-align: left">Sampling frequency in Hz.</td></tr><tr><td style="text-align: left">:gain</td><td style="text-align: left">Scalar gain; divide data by the gain to convert to units</td></tr><tr><td style="text-align: left">:freqmin</td><td style="text-align: left">Minimum frequency from instrument response.</td></tr><tr><td style="text-align: left">:freqmax</td><td style="text-align: left">Maximum frequency from instrument response.</td></tr><tr><td style="text-align: left">:cc_len</td><td style="text-align: left">Raw data window length in seconds.</td></tr><tr><td style="text-align: left">:cc_step</td><td style="text-align: left">Spacing between windows in seconds.</td></tr><tr><td style="text-align: left">:time_norm</td><td style="text-align: left">Apply one-bit whitening with &quot;one_bit&quot;.</td></tr><tr><td style="text-align: left">:resp</td><td style="text-align: left">SeisBase InstrumentResponse object</td></tr><tr><td style="text-align: left">:misc</td><td style="text-align: left">Dictionary for non-critical information.</td></tr><tr><td style="text-align: left">:notes</td><td style="text-align: left">Timestamped notes; includes automatically-logged acquisition and</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">processing information.</td></tr><tr><td style="text-align: left">:t</td><td style="text-align: left">Starttime of each window.</td></tr><tr><td style="text-align: left">:x</td><td style="text-align: left">Raw data stored in columns.</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tclements/SeisNoise.jl/blob/3fb49f9a273fe4aa7635a55fb37c0ab24f48f111/src/Types/NoiseData.jl#L13-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeisNoise.FFTData" href="#SeisNoise.FFTData"><code>SeisNoise.FFTData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>FFTData</p><p>A structure for fourier transforms (FFT) of ambient noise data.</p><p><strong>Fields: FFTData</strong></p><table><tr><th style="text-align: left"><strong>Field</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left">:name</td><td style="text-align: left">Freeform channel names</td></tr><tr><td style="text-align: left">:id</td><td style="text-align: left">Channel ids. use NET.STA.LOC.CHAN format when possible.</td></tr><tr><td style="text-align: left">:loc</td><td style="text-align: left">Location (position) object</td></tr><tr><td style="text-align: left">:fs</td><td style="text-align: left">Sampling frequency in Hz.</td></tr><tr><td style="text-align: left">:gain</td><td style="text-align: left">Scalar gain; divide data by the gain to convert to units</td></tr><tr><td style="text-align: left">:freqmin</td><td style="text-align: left">Minimum frequency for whitening.</td></tr><tr><td style="text-align: left">:freqmax</td><td style="text-align: left">Maximum frequency for whitening.</td></tr><tr><td style="text-align: left">:cc_len</td><td style="text-align: left">Raw data window length in number of points.</td></tr><tr><td style="text-align: left">:cc_step</td><td style="text-align: left">Spacing between windows in number of points.</td></tr><tr><td style="text-align: left">:whitened</td><td style="text-align: left">Whitening applied.</td></tr><tr><td style="text-align: left">:time_norm</td><td style="text-align: left">Apply one-bit whitening with &quot;one_bit&quot;.</td></tr><tr><td style="text-align: left">:resp</td><td style="text-align: left">SeisBase InstrumentResponse object</td></tr><tr><td style="text-align: left">:misc</td><td style="text-align: left">Dictionary for non-critical information.</td></tr><tr><td style="text-align: left">:notes</td><td style="text-align: left">Timestamped notes; includes automatically-logged acquisition and</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">processing information.</td></tr><tr><td style="text-align: left">:t</td><td style="text-align: left">Starttime of each FFT.</td></tr><tr><td style="text-align: left">:fft</td><td style="text-align: left">FFTs stored in columns.</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tclements/SeisNoise.jl/blob/3fb49f9a273fe4aa7635a55fb37c0ab24f48f111/src/Types/NoiseData.jl#L169-L194">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeisNoise.CorrData" href="#SeisNoise.CorrData"><code>SeisNoise.CorrData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>CorrData</p><p>A structure for cross-correlations of ambient noise data.</p><p><strong>Fields: CorrData</strong></p><table><tr><th style="text-align: left"><strong>Field</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left">:name</td><td style="text-align: left">Freeform channel name in NET1.STA1.LOC1.CHAN1.NET2.STA2.LOC2.CHAN2 form</td></tr><tr><td style="text-align: left">:id</td><td style="text-align: left">Channel ids. use NET.STA.LOC.CHAN format when possible.</td></tr><tr><td style="text-align: left">:loc</td><td style="text-align: left">Location (position) object for station 1.</td></tr><tr><td style="text-align: left">:comp</td><td style="text-align: left">Component of cross-correlation (e.g ZZ, RT, etc..).</td></tr><tr><td style="text-align: left">:rotated</td><td style="text-align: left">Boolean for rotation.</td></tr><tr><td style="text-align: left">:fs</td><td style="text-align: left">Sampling frequency in Hz.</td></tr><tr><td style="text-align: left">:gain</td><td style="text-align: left">Scalar gain; divide data by the gain to convert to units.</td></tr><tr><td style="text-align: left">:freqmin</td><td style="text-align: left">Minimum frequency for whitening.</td></tr><tr><td style="text-align: left">:freqmax</td><td style="text-align: left">Maximum frequency for whitening.</td></tr><tr><td style="text-align: left">:cc_len</td><td style="text-align: left">Raw data window length in number of points.</td></tr><tr><td style="text-align: left">:cc_step</td><td style="text-align: left">Spacing between windows in number of points.</td></tr><tr><td style="text-align: left">:whitened</td><td style="text-align: left">Whitening applied.</td></tr><tr><td style="text-align: left">:time_norm</td><td style="text-align: left">Apply one-bit whitening with &quot;one_bit&quot;.</td></tr><tr><td style="text-align: left">:resp</td><td style="text-align: left">SeisBase InstrumentResponse object</td></tr><tr><td style="text-align: left">:misc</td><td style="text-align: left">Dictionary for non-critical information.</td></tr><tr><td style="text-align: left">:notes</td><td style="text-align: left">Timestamped notes; includes automatically-logged acquisition and</td></tr><tr><td style="text-align: left"></td><td style="text-align: left">processing information.</td></tr><tr><td style="text-align: left">:dist</td><td style="text-align: left">Distance between station 1 and station 2 in Km.</td></tr><tr><td style="text-align: left">:azi</td><td style="text-align: left">Azimuth from station 1 and station 2 in degrees.</td></tr><tr><td style="text-align: left">:baz</td><td style="text-align: left">Back azimuth between station 1 and station 2 in degrees.</td></tr><tr><td style="text-align: left">:maxlag</td><td style="text-align: left">Maximum lag time in seconds to keep from correlations.</td></tr><tr><td style="text-align: left">:t</td><td style="text-align: left">Starttime of each correlation.</td></tr><tr><td style="text-align: left">:corr</td><td style="text-align: left">Correlations stored in columns.</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tclements/SeisNoise.jl/blob/3fb49f9a273fe4aa7635a55fb37c0ab24f48f111/src/Types/NoiseData.jl#L264-L295">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../using_gpus/">Using the GPU »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Sunday 10 December 2023 18:44">Sunday 10 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
